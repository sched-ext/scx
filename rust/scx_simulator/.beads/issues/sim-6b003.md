---
title: Real-vs-simulated trace comparison reveals 6 realism gaps
status: open
priority: 2
issue_type: task
labels:
- realism
created_at: 2026-02-17T22:20:55.141401646+00:00
updated_at: 2026-02-20T03:55:27.018391029+00:00
---

# Description

Ran scx_mitosis on a real host with two_runners.json (heavy at nice -5, light at nice 0, 2 CPUs) traced via bpftrace, then ran the same workload in the simulator. Comparing the ~5400-line real trace to the ~4800-line simulated trace reveals the following gaps:

## Progress

### Gap 1: Partially fixed
- Fixed Sleep phase advancement bug in wake handler (commits a3c0f5d4, 558d122b)
- Added TraceStats module for quantifying realism gaps
- two_runners.json: yield ratio dropped from 49.5% to 0%

Remaining Gap 1 work: Real CPU-bound tasks run until preempted by ticks, not until a phase completes. The Phase::Run model doesn't capture this perfectly for pure CPU-bound workloads.
